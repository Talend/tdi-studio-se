<COMPONENT>

  <HEADER PLATEFORM="ALL" 
	SERIAL="" 
	VERSION="1.0" 
	STATUS="ALPHA"
	COMPATIBILITY="ALL" 
	AUTHOR="Talend" 
	RELEASE_DATE="20151112A"
    LOG4J_ENABLED="true"
	STARTABLE="true">
	<SIGNATURE />
  </HEADER>

  <FAMILIES>
    <FAMILY>Databases/EXASolution</FAMILY>
  </FAMILIES>

	<DOCUMENTATION>
		<URL />
	</DOCUMENTATION>

	<CONNECTORS>
		<CONNECTOR CTYPE="FLOW" MAX_INPUT="0" MAX_OUTPUT="0" />
		<CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1" />
		<CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_OK" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="COMPONENT_ERROR" MAX_OUTPUT="1" />
		<CONNECTOR CTYPE="RUN_IF" MAX_OUTPUT="1" />
	</CONNECTORS>

	<PARAMETERS>
    	<PARAMETER 
    		NAME="USE_EXISTING_CONNECTION" 
    		FIELD="CHECK"
      		NUM_ROW="2">
      		<DEFAULT>false</DEFAULT>
    	</PARAMETER>
    
	    <PARAMETER 
	    	NAME="CONNECTION" 
	    	FIELD="COMPONENT_LIST" 
	    	FILTER="tEXAConnection"
	      	NUM_ROW="2" 
		    REQUIRED="true" 
	      	SHOW_IF="USE_EXISTING_CONNECTION == 'true'" 
	      	DYNAMIC_SETTINGS="true"/> 
	      
	    <PARAMETER 
	    	NAME="PROPERTY" 
	    	FIELD="PROPERTY_TYPE" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	NUM_ROW="10" 
	    	REPOSITORY_VALUE="DATABASE:Exasol"/>

	    <PARAMETER 
	    	NAME="HOST" 
	    	FIELD="TEXT" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	NUM_ROW="20" 
	    	REPOSITORY_VALUE="SERVER_NAME" 
	    	REQUIRED="true">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PORT" 
	    	FIELD="TEXT" 
	    	NUM_ROW="20" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	REPOSITORY_VALUE="PORT" 
	    	REQUIRED="true">
	      <DEFAULT>"8563"</DEFAULT>
	    </PARAMETER>

	    <PARAMETER
	        NAME="NOTE"
	        FIELD="LABEL"
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	        NUM_ROW="21">
	      <DEFAULT>Note: You can configure a server or cluster as ip-address range or comma separated host/ip-address list. 
	           Examples: "172.16.173.128" or "172.16.173.128..130" or "server1,server2"</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="DB_SCHEMA" 
	    	FIELD="TEXT" 
	    	NUM_ROW="30" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	REPOSITORY_VALUE="SID" 
	    	REQUIRED="true">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="USER" 
	    	FIELD="TEXT" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	NUM_ROW="40" 
	    	REPOSITORY_VALUE="USERNAME" 
	    	REQUIRED="true">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>

	    <PARAMETER 
	    	NAME="PASS" 
	    	FIELD="PASSWORD" 
			SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	    	NUM_ROW="40" 
	    	REPOSITORY_VALUE="PASSWORD" 
	    	REQUIRED="true">
	      <DEFAULT>""</DEFAULT>
	    </PARAMETER>

		<PARAMETER NAME="TABLE" FIELD="TEXT" NUM_ROW="100">
			<DEFAULT>""</DEFAULT>
		</PARAMETER>

		<PARAMETER NAME="TABLE_ACTION" FIELD="CLOSED_LIST"
			NUM_ROW="110" NOT_SHOW_IF="PARALLELIZE == 'true'">
			<ITEMS DEFAULT="NONE">
				<ITEM NAME="NONE" VALUE="NONE" />
				<ITEM NAME="DROP_CREATE" VALUE="DROP_CREATE" />
				<ITEM NAME="CREATE" VALUE="CREATE" />
				<ITEM NAME="CREATE_IF_NOT_EXISTS" VALUE="CREATE_IF_NOT_EXISTS" />
				<ITEM NAME="TRUNCATE" VALUE="TRUNCATE"/>
			</ITEMS>
		</PARAMETER>
		
		<PARAMETER 
			NAME="FILENAME" 
			FIELD="FILE" 
			NUM_ROW="120"
			REQUIRED="true"
		>
			<DEFAULT>"__COMP_DEFAULT_FILE_DIR__/in.csv"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="SCHEMA" 
			FIELD="SCHEMA_TYPE" 
			NUM_ROW="130"/>

		<PARAMETER 
			NAME="MAPPING" 
			FIELD="MAPPING_TYPE" 
			NUM_ROW="200"
			SHOW="false">
			<DEFAULT>Exasol_id</DEFAULT>
		</PARAMETER>

	</PARAMETERS>
	
	<ADVANCED_PARAMETERS>

		<PARAMETER 
			NAME="PROPERTIES" 
			FIELD="TEXT" 
			NUM_ROW="10" 
	        SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
			REPOSITORY_VALUE="PROPERTIES_STRING" 
		>
			<DEFAULT>"encryption=0;clientname=" + jobName</DEFAULT>
		</PARAMETER>
			
	    <PARAMETER
	        NAME="NOTE"
	        FIELD="LABEL"
	        SHOW_IF="USE_EXISTING_CONNECTION == 'false'"
	        NUM_ROW="11">
	      <DEFAULT>Note: Example for Additional JDBC Parameters: "parameterName1=value1;parameterName2=value2;"</DEFAULT>
	    </PARAMETER>
	    
		<PARAMETER 
			NAME="COLUMN_SEPARATOR" 
			FIELD="TEXT" 
			NUM_ROW="20"
			REQUIRED="true"
		>
			<DEFAULT>";"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="COLUMN_DELIMITER" 
			FIELD="TEXT" 
			NUM_ROW="20"
		>
			<DEFAULT>"\""</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="ROW_SEPARATOR"
			FIELD="TEXT" 
			NUM_ROW="40">
			<DEFAULT>"\n"</DEFAULT>
	    </PARAMETER>
		
		<PARAMETER 
			NAME="NULLSTRING" 
			FIELD="TEXT" 
			NUM_ROW="40"
		>
			<DEFAULT>"NULL"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="SKIP" 
			FIELD="TEXT" 
			NUM_ROW="50"
		>
			<DEFAULT>0</DEFAULT>
		</PARAMETER>
		
		<PARAMETER 
			NAME="ENCODING" 
			FIELD="TEXT" 
			NUM_ROW="50">
			<DEFAULT>"UTF8"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="TRIM_METHOD" 
			FIELD="CLOSED_LIST" 
			NUM_ROW="60">
			<ITEMS DEFAULT="NONE">
				<ITEM NAME="NONE" VALUE="NONE" />
				<ITEM NAME="TRIM" VALUE="TRIM" />
				<ITEM NAME="LTRIM" VALUE="LTRIM" />
				<ITEM NAME="RTRIM" VALUE="RTRIM" />
			</ITEMS>
	    </PARAMETER>

		<PARAMETER 
			NAME="DEFAULT_DATE_FORMAT" 
			FIELD="TEXT" 
			NUM_ROW="70">
			<DEFAULT>"YYYY-MM-DD"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="DEFAULT_TIMESTAMP_FORMAT" 
			FIELD="TEXT" 
			NUM_ROW="70">
			<DEFAULT>"YYYY-MM-DD HH:MI:SS.ff3"</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="THOUSANDS_SEPARATOR" 
			FIELD="TEXT" 
			NUM_ROW="80">
			<DEFAULT>","</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="DECIMAL_SEPARATOR" 
			FIELD="TEXT" 
			NUM_ROW="80">
			<DEFAULT>"."</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="ERROR_LIMIT" 
			FIELD="TEXT" 
			NUM_ROW="85">
			<DEFAULT>10</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="ERROR_LOG_DESTINATION" 
			FIELD="CLOSED_LIST" 
			NUM_ROW="90">
			<ITEMS DEFAULT="NONE">
				<ITEM NAME="NONE" VALUE="NONE" />
				<ITEM NAME="LOCAL_FILE" VALUE="LOCAL_FILE" />
				<ITEM NAME="TABLE" VALUE="TABLE" />
			</ITEMS>
		</PARAMETER>

		<PARAMETER 
			NAME="LOCAL_ERROR_FILE"
			FIELD="FILE" 
			NUM_ROW="95"
	        SHOW_IF="ERROR_LOG_DESTINATION == 'LOCAL_FILE'"
			REQUIRED="true"
		>
			<DEFAULT></DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="LOCAL_ERROR_FILE_WITH_CURRENT_TIMESTAMP"
			FIELD="CHECK" 
			NUM_ROW="95"
	        SHOW_IF="ERROR_LOG_DESTINATION == 'LOCAL_FILE'"
			REQUIRED="true"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="ERROR_TABLE"
			FIELD="TEXT" 
			NUM_ROW="95"
	        SHOW_IF="ERROR_LOG_DESTINATION == 'TABLE'"
			REQUIRED="true"
		>
			<DEFAULT></DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="ERROR_TABLE_WITH_CURRENT_TIMESTAMP"
			FIELD="CHECK" 
			NUM_ROW="95"
	        SHOW_IF="ERROR_LOG_DESTINATION == 'TABLE'"
			REQUIRED="true"
		>
			<DEFAULT>true</DEFAULT>
		</PARAMETER>

		<PARAMETER 
			NAME="SECURE_TRANSFER"
			FIELD="CHECK" 
			NUM_ROW="100"
			REQUIRED="true"
		>
			<DEFAULT>false</DEFAULT>
		</PARAMETER>

	</ADVANCED_PARAMETERS>

   <CODEGENERATION>
     <IMPORTS>
		<IMPORT NAME="Driver-EXASolution" MODULE="exajdbc.jar" MVN="mvn:org.talend.libraries/exajdbc/6.0.0"  REQUIRED="true" />
		<IMPORT NAME="Talend-DB-Exasol-Util" MODULE="talend-db-exasol-1.0.0.jar" MVN="mvn:org.talend.libraries/talend-db-exasol-1.0.0/6.0.0"  REQUIRED="true" />
     </IMPORTS>
   </CODEGENERATION>

	<RETURNS>
	    <RETURN NAME="NB_LINE_INSERTED" TYPE="id_Integer" AVAILABILITY="AFTER"/>
    	<RETURN NAME="NB_LINE_DELETED"  TYPE="id_Integer" AVAILABILITY="AFTER"/>
    	<RETURN NAME="FILENAME" TYPE="id_String" AVAILABILITY="AFTER"/>
    	<RETURN NAME="ERROR_LOG_FILE" TYPE="id_String" AVAILABILITY="AFTER"/>
	</RETURNS>
</COMPONENT>
